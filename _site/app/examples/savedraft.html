<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58453303-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-58453303-6');
  </script>

  <base href="https://formiojs.test-form.io/4.14.9-rc.2/"></base>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JavaScript Powered Forms and Form.io SDK</title>
  <link href="https://formiojs.test-form.io/4.14.9-rc.2/app/syntax.css" rel="stylesheet">
  <link href="https://formiojs.test-form.io/4.14.9-rc.2/app/main.css" rel="stylesheet">
  <link href="https://formiojs.test-form.io/4.14.9-rc.2/app/fontawesome/css/font-awesome.min.css" rel="stylesheet">
  
  
    <link href="https://bootswatch.com/4/cosmo/bootstrap.min.css" rel="stylesheet">
  
  
    <link href="https://formiojs.test-form.io/4.14.9-rc.2/dist/formio.full.min.css" rel="stylesheet">
  
  <script src="https://cdn.form.io/ace/ace.js"></script>
  <script src="https://formiojs.test-form.io/4.14.9-rc.2/app/jquery/jquery.slim.min.js"></script>
  <script src="https://formiojs.test-form.io/4.14.9-rc.2/app/bootstrap/js/bootstrap.min.js"></script>
  
    <script src="https://formiojs.test-form.io/4.14.9-rc.2/dist/formio.full.js"></script>
  
  
  <script type="text/javascript">
    window.onload = function() {
      if (Formio) {
        Formio.icons = 'fontawesome';
        document.getElementById('renderer-version').innerHTML = Formio.version;
      }
    };
  </script>
</head>
<body>
<a href="https://github.com/formio/formio.js"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:3000;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img height="25px;" style="display: inline;" alt="Form.io" src="https://help.form.io/assets/formio-logo.png"> | JavaScript SDK Library
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <ul class="navbar-nav nav-fill mr-auto">
        <li class="nav-item "><a class="nav-link" href="https://formiojs.test-form.io/4.14.9-rc.2"><i class="fa fa-home"></i></a></li>
        <li class="nav-item "><a class="nav-link" href="app/builder.html"><i class="fa fa-th-list"></i> Form Builder</a></li>
        <li class="nav-item "><a class="nav-link" href="app/sandbox.html"><i class="fa fa-cube"></i> Sandbox</a></li>
        <li class="nav-item active bg-white border"><a class="nav-link" href="app/examples"><i class="fa fa-check-square-o"></i> Examples</a></li>
        <li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/formio/formio.js/wiki"><i class="fa fa-book"></i> Documentation</a></li>
        <li class="nav-item "><a class="nav-link" href="app/sdk"><i class="fa fa-list-alt"></i> SDK</a></li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="github-button nav-link" href="https://github.com/formio/formio.js" data-size="large" data-show-count="true" aria-label="Star formio/formio.js on GitHub">Star</a></li>
        <li class="nav-item"><a class="github-button nav-link" href="https://github.com/formio/formio.js/fork" data-size="large" data-show-count="true" aria-label="Fork formio/formio.js on GitHub">Fork</a></li>
      </ul>
    </div>
  </div>
</nav>
<div class="container">
  <div class="row">
  <div class="col-2">
    <ul class="nav nav-pills nav-fill flex-column border-right border-left border-bottom">
      
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/">Simple Embedding</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/jsfiddle.html">JSFiddle</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/hosted.html">Hosted Forms</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/submissions.html">Submission Hosting</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/htmlview.html">Submission View</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/customendpoint.html">Submission Custom Endpoint</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/thanyou.html">Thank You Page</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/externalload.html">External Data Load</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/pdf.html">PDF Form</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/customcomponent.html">Custom Components</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/custombuilder.html">Custom Form Builder</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/wizard.html">Wizards</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/customwizard.html">Custom Wizards</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/conditionalwizard.html">Conditional Wizards</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/wysiwyg.html">WYSIWYG Editor</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/embed.html">JavaScript Embedding</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/json.html">JSON Powered Forms</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/fieldLogic.html">Field Logic</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 active" href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/savedraft.html">Save as Draft</a>
          </li>
        
      
        
      
        
      
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/conditions.html">Conditional Forms</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/select.html">Select Dropdowns</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/datagrid.html">Data Grid Input</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/noeval.html">No Eval</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/editgrid.html">Edit Grid</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/datagrid2.html">Data Grid Panels</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/external.html">External Sources & Conditional Selects</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/calculated.html">Calculated Values</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/language.html">Multi-Language Forms</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/kitchen.html">Kitchen Sink</a>
          </li>
        
      
        
          <li class="nav-item ml-0">
            <a class="nav-link border-top rounded-0 " href="https://formiojs.test-form.io/4.14.9-rc.2/app/examples/recaptcha.html">reCAPTCHA component</a>
          </li>
        
      
    </ul>
  </div>
  <div class="col-10">
    <h3 class="mt-0">Save as Draft</h3>
    <p>Within the Form.io renderer, you can also enable a Save as Draft feature which will save a submission in “draft” mode either periodically (every 5 seconds), or manually, as the user
is filling out the form. This system will also “restore” a draft submission if the user leaves the page, and then comes back in a later session. A common term used to describe this process is “save and return” capability.</p>

<p>This feature works along with our authentication system to attach a “draft” submission to a user who has been authenticated, to periodically store the draft of that submission as that user is using the form.</p>

<p>In order to enable this feature, you simply need to use the <code class="language-plaintext highlighter-rouge">saveDraft</code> parameter when you are rendering the form.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Formio</span><span class="p">.</span><span class="nx">icons</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">fontawesome</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">createForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">formio</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">https://examples.form.io/example</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">saveDraft</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div></div>

<p>This will then trigger the drafts to start periodically every 5 seconds once a user is established through the use of common Form.io authentication modules, such as the <a href="https://github.com/formio/angular-formio/wiki/User-Authentication">one provided within Angular</a>.</p>

<p>If you wish to manually allow for “anonymous” drafts, then you will need to add the “Anonymous” role to your forms “Create All” permissions, and then provide the following logic within your application to trigger the saveDraft process.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Formio</span><span class="p">.</span><span class="nx">icons</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">fontawesome</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Create a new form with saveDraft enabled.</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">createForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">formio</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">https://examples.form.io/example</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">saveDraft</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="c1">// Set the "owner" field for the draft submissions to the following user.</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">setUser</span><span class="p">({</span>
  <span class="na">_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">123</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div>

<p><strong>Note:</strong> This will only work if you do NOT explicitly set the form submission as follows.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// This won't work....</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">createForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">formio</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">https://examples.form.io/example</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">saveDraft</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Explicitly setting the form submission will stop the "draft" mode.</span>
  <span class="nx">form</span><span class="p">.</span><span class="nx">submission</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">firstName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Joe</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">lastName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Smith</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="timing-configuration">Timing configuration</h4>
<p>You can also configure how regular the “save draft” is triggered using the <code class="language-plaintext highlighter-rouge">saveDraftThrottle</code> parameter. This defaults to 5 seconds, and is defined in milliseconds.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Formio</span><span class="p">.</span><span class="nx">icons</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">fontawesome</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Save a draft every 10 seconds.</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">createForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">formio</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">https://examples.form.io/example</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">saveDraft</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">saveDraftThrottle</span><span class="p">:</span> <span class="mi">10000</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="manual-draft-submissions">Manual Draft Submissions</h2>
<p>You can also enable draft submissions to occur manually through the use of our Button component, configured with the Action of “Save State” and the “State” option configured as “draft”. Then when this button is pressed, it will save the submission in “draft” mode.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a manual form with a Draft button, and submit the data to a specific API.</span>
<span class="nx">Formio</span><span class="p">.</span><span class="nx">createForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">formio</span><span class="dl">'</span><span class="p">),</span> <span class="p">{</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">textfield</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">firstName</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">First Name</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">input</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">textfield</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lastName</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Last Name</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">input</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">submit</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">submit</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Save Submission</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">saveState</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">draft</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">saveDraft</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Save as Draft</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Set the url so that it knows where to submit the data to.</span>
  <span class="nx">form</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://examples.form.io/example</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">form</span><span class="p">.</span><span class="nx">nosubmit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div></div>

  </div>
</div>

</div>
<hr />
<div>
  <h4 class="text-center text-muted">powered by <img src="https://formiojs.test-form.io/4.14.9-rc.2/app/logo.png" class="mr-2" style="height: 1.2em;" /></h4>
  <p class="text-center text-muted mb-0" style="font-size: 0.8em">Copyright © Form.io LLC 2021. All rights reserved</p>
</div>
<p class="text-center text-muted mb-0" style="font-size: 0.8em">Renderer v<span id="renderer-version"></span></p>
<script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>
